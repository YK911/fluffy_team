{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/refs.js","../src/js/server-api.js","../src/js/storage.js","../src/js/pets-list-section.js","../src/js/faq-section.js","../src/js/success-stories-rndr.js","../src/js/success-stories-section.js"],"sourcesContent":["const menuButton = document.querySelector('.header-burger-menu');\nconst modal = document.querySelector(\".header-modal\")\nconst closeButton = document.querySelector(\".modal-close-button\")\nconst link = document.querySelector(\".modal-navigation-item\")\nconst nav = document.querySelector(\".modal-navigation-list\")\nconst takeButton = document.querySelector(\".modal-button\")\n\nfunction closeModal(event) {\n    modal.classList.remove(\"is-open\")\n}\n\ndocument.addEventListener(\"keydown\", (event) => {\n    const isEscape = event.key === \"Escape\";\n    const isModalOpen = modal.classList.contains(\"is-open\");\n    if (isEscape && isModalOpen) {\n        modal.classList.remove(\"is-open\");\n    }\n});\n\ntakeButton.addEventListener(\"click\", closeModal)\n\nmenuButton.addEventListener(\"click\", (event) => {\n    event.preventDefault()\n    modal.classList.add(\"is-open\")\n})\n\ncloseButton.addEventListener(\"click\", closeModal)\nnav.addEventListener(\"click\", closeModal)","export const refs = {\n    categoryList: document.querySelector('.js-category-list'),\n    petsList: document.querySelector('.js-pets-list'),\n    loader: document.querySelector('.js-loader'),\n    petsLoadMoreBtn: document.querySelector('.js-pets-load-more-btn'),\n    petsListPagination: document.querySelector('.pagination'),\n}\n\nexport const storiesParams = {\n    page: 1,\n    limit: 6,\n}","import axios from \"axios\";\nimport { storiesParams } from './refs';\n\nexport const BASE_URL = 'https://paw-hut.b.goit.study/api';\nexport const ENDPOINTS = {\n    animals: '/animals',\n    categories: '/categories',\n    orders: '/orders',\n    feedbacks: '/feedbacks',\n};\n\nexport const server = axios.create({\n    baseURL: BASE_URL,\n})\n\nexport async function getStories(page = storiesParams.page) {\n  try {\n    // Валідація параметрів\n    const validLimit = typeof storiesParams.limit === 'number' && storiesParams.limit > 0 \n      ? storiesParams.limit \n      : 6;\n    const validPage = typeof page === 'number' && page >= 1 \n      ? page \n      : 1;\n\n    const response = await server.get(`${ENDPOINTS.feedbacks}`, {\n      params: {\n        limit: validLimit,\n        page: validPage,\n      },\n    });\n    return response.data.feedbacks;\n  } catch (error) {\n    return null;\n  }\n}\n\n\n","export function saveToLS(key, value) {\n    try {\n        localStorage.setItem(key, JSON.stringify(value));\n    } catch (error) {\n        console.error('Error saving to LocalStorage:', error)\n    }\n}\n\nexport function loadFromLS(key) {\n    try {\n         const data = localStorage.getItem(key);\n        return data?  JSON.parse(data):null;\n    } catch (error) {\n        console.error('Error loading from LocalStorage:', error);\n        return null;\n    }\n}","import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport { ENDPOINTS, server } from \"./server-api\";\nimport { refs } from \"./refs\";\nimport { loadFromLS, saveToLS } from \"./storage\";\nlet limit = getLimitByScreen();\nlet page = loadFromLS('page') || 1;\nlet totalItems;\nlet categoryId = loadFromLS('categoryId') ?? null;\ndocument.addEventListener('DOMContentLoaded', handleContentLoad);\nrefs.petsLoadMoreBtn.addEventListener('click', handleLoadMoreBtnClick);\nrefs.categoryList.addEventListener('click', handleCategoryBtnClick);\nrefs.petsListPagination.addEventListener('click', handlePaginationClick);\nfunction getLimitByScreen() {\n  const width = window.innerWidth;\n\n  if (width >= 1440) return 9;     \n  return 8;                      \n}\n\nfunction getTotalPages() {\n  return Math.ceil(totalItems / limit);\n}\n// --------------- handlers -------------------\n\nasync function handleContentLoad(e) {\n  showLoader();\n  page = 1;\n  try {\n      const categories = await fetchAllCategories();\n      const animals = await fetchAllAnimals();   \n      \n      renderCategories(categories);\n      renderAnimals(animals);\n      renderPagination();\n      checkLoadMoreBtnStatus();\n  } catch (error) {\n      iziToast.error({\n          title: 'Помилка',\n          message: 'Щось пішло не так',\n          position: 'topRight',\n      })\n  } finally {\n      hideLoader();\n  }\n}\nasync function handleCategoryBtnClick(e) {\n    if (e.target.nodeName !== 'BUTTON') return;\n    const categoryName = e.target.textContent;\n    const categoryLi = e.target.closest('li');\n    categoryId = categoryLi.dataset.id;\n    page = 1;\n    showLoader();\n    const allButtons = refs.categoryList.querySelectorAll('.category-btn');\n    allButtons.forEach(btn => {\n        btn.classList.remove('current');\n    });\n    e.target.classList.add('current');\n    try {\n        let animals = await fetchAllAnimals();\n        if (categoryName !== 'Всі') {\n            animals = await fetchCategoryById(categoryId, page);\n        }\n        renderAnimals(animals);\n        checkLoadMoreBtnStatus();\n        renderPagination();\n    } catch (error) {\n        iziToast.error({\n            title: 'Помилка',\n            message: 'Щось пішло не так',\n            position: 'topRight',\n        })\n    } finally {\n        hideLoader();\n        saveToLS('categoryId', categoryId);\n        saveToLS('page', page);\n    }\n}\n\n\nasync function handleLoadMoreBtnClick() {\n    page += 1;\n\n    refs.loader.classList.add('loader-center');\n    showLoader();\n\n    try {\n        if (!categoryId) {\n            checkLoadMoreBtnStatus();\n            const animals = await fetchAllAnimals(page);\n            const markup = animalsTemplate(animals);\n            refs.petsList.insertAdjacentHTML('beforeend', markup);\n        } else {\n            checkLoadMoreBtnStatus();\n            const animals = await fetchCategoryById(categoryId, page);\n            const markup = animalsTemplate(animals);\n            refs.petsList.insertAdjacentHTML('beforeend', markup);\n        }\n\n        const firstCard = refs.petsList.querySelector('li');\n        if (firstCard) {\n            const cardRect = firstCard.getBoundingClientRect();\n            window.scrollBy({\n                top: cardRect.height, \n                behavior: 'smooth',\n            });\n        }\n    } catch (error) {\n        iziToast.error({\n            title: 'Помилка',\n            message: 'Щось пішло не так',\n            position: 'topRight',\n        })\n    } finally {\n        hideLoader();\n        saveToLS('page', page);\n        refs.loader.classList.remove('loader-center');\n    }\n}\nasync function handlePaginationClick(e) {\n    const btn = e.target.closest('button');\n    if (!btn) return;\n    let animals;\n    const totalPages = getTotalPages();\n    if (btn.dataset.action === 'prev' && page > 1) {\n        page -= 1;\n    }\n    if (btn.dataset.action === 'next' && page < totalPages) {\n        page += 1;\n    }\n    if (btn.dataset.page) {\n        page = Number(btn.dataset.page);\n    }\n    showLoader();\n    try {\n        if (categoryId) {\n            animals = await fetchCategoryById(categoryId, page);\n        } else {\n         animals = await fetchAllAnimals(page);\n        }\n        renderAnimals(animals);\n        renderPagination();\n        window.scrollTo({\n            top: refs.petsList.offsetTop - 160,\n            behavior: 'smooth',\n        });\n        } catch (error) {\n            iziToast.error({\n                title: 'Помилка',\n                message: 'Щось пішло не так',\n                position: 'topRight',\n            })\n        } finally {\n            hideLoader();\n            saveToLS('page', page);\n        }\n}\n// ----------------- API -----------------\nasync function fetchAllCategories(page) {\n    const response = await server.get(`${ENDPOINTS.categories}`);\n    return response.data;\n}\nasync function fetchAllAnimals(page) {\n    const response = await server.get(`${ENDPOINTS.animals}`, {\n        params: {\n            limit: limit,\n            page: page\n        }\n    });\n    totalItems = response.data.totalItems;\n    return response.data.animals;\n}\nasync function fetchCategoryById(id, page) {\n    const response = await server.get(`${ENDPOINTS.animals}?categoryId=${id}`, {\n        params: {\n        limit: limit,\n        page: page\n        }\n    });\n    totalItems = response.data.totalItems;\n    return response.data.animals;\n}\n\n\n\n// ----------------- render -----------------\n\nfunction categoryTemplate(category) {\n    return `\n     <li class=\"category-item\" data-id=\"${category._id}\">\n        <button class=\"category-btn\" type=\"button\">${category.name}</button>\n      </li>`\n}\n\nfunction categoriesTemplate(categories) {\n    return categories.map(categoryTemplate).join('');\n}\n\nfunction renderCategories(categories) {\n    const isAllActive = !categoryId;\n    const markup =` <li class=\"category-item\">\n        <button class=\"category-btn current\" type=\"button\">Всі</button>\n      </li>${categoriesTemplate(categories)}`;\n\n    refs.categoryList.innerHTML = markup;  \n}\n\nfunction animalTemplate({ _id, name, image, species, age, gender, categories, description }) {\n    const categoriesMarkup = categories\n        .map(category => `<li class=\"pets-category-item\">${category.name}</li>`)\n        .join('');\n    \n    return `\n     <li class=\"pets-item\" data-id=\"${_id}\">\n     <div class=\"pets-img-wrapper\"><img class=\"pets-img\" src=\"${image}\" alt=\"${name} - ${species}\" /></div>\n        <div class=\"pets-list-wrapper\">\n          <p class=\"pets-category\">${species}</p>\n          <h3 class=\"pets-name\">${name}</h3>\n          <ul class=\"pets-category-list\">${categoriesMarkup}</ul>\n          <div class=\"descriprion-wrapper\">\n            <ul class=\"descriprion-list\">\n              <li class=\"descriprion-item\">${age}</li>\n              <li class=\"descriprion-item\">${gender}</li>\n            </ul>\n            <p class=\"pets-descriprion\">${description}</p>\n            <button class=\"pets-button\" type=\"button\">Дізнатись більше</button>\n          </div>\n        </div>\n      </li>`\n}\n\nfunction animalsTemplate(animals) {\n    return animals.map(animalTemplate).join('');\n}\n\nfunction renderAnimals(animals) {\n    const markup = animalsTemplate(animals);\n    refs.petsList.innerHTML = markup;\n}\nfunction renderPagination() {\n  const totalPages = getTotalPages();\n  if (totalPages <= 1) return;\n  let markup = '';\n  markup += `<li>\n      <button class=\"pagination-btn-arrow\" data-action=\"prev aria-label=\"Попередня сторінка\"\" ${page === 1 ? 'disabled' : ''}>\n        <svg class=\"arrow-icon\" width=\"24\" height=\"24\">\n          <use href=\"/img/sprite.svg#icon-arrow-back\"></use>\n        </svg>\n      </button>\n    </li>`;\n  if (page === 1) {\n    for (let i = 1; i <= Math.min(3, totalPages); i += 1) {\n      markup += pageButton(i);\n    }\n      if (totalPages > 3) {\n      markup += `<li class=\"dots\">…</li>`;\n      markup += pageButton(totalPages);\n    }\n  } else {\n      markup += pageButton(1);\n    if (page > 3) {\n      markup += `<li class=\"dots\">…</li>`;\n    }\n    for (let i = page - 1; i <= page + 1; i += 1) {\n      if (i > 1 && i < totalPages) {\n        markup += pageButton(i);\n      }\n    }\n    if (page < totalPages - 2) {\n      markup += `<li class=\"dots\">…</li>`;\n    }\n    if (totalPages > 1) {\n      markup += pageButton(totalPages);\n    }\n  }\n  markup += `<li>\n      <button class=\"pagination-btn-arrow\" data-action=\"next\" aria-label=\"Наступна сторінка\" ${page === totalPages ? 'disabled' : ''}>\n        <svg class=\"arrow-icon\" width=\"24\" height=\"24\">\n          <use href=\"/img/sprite.svg#icon-arrow-forward\"></use>\n        </svg>\n      </button>\n    </li>`;\n  refs.petsListPagination.innerHTML = markup;\n}\nfunction pageButton(pageNumber) {\n  return `\n    <li>\n      <button\n        class=\"pagination-btn ${page === pageNumber ? 'current' : ''}\"\n        aria-label=\"Сторінка ${pageNumber}\"\n        data-page=\"${pageNumber}\">\n        ${pageNumber}\n      </button>\n    </li>\n  `;\n}\n// --------------- loader ---------------\n\nfunction showLoader() {\n    refs.loader.classList.remove('loader-hidden');\n}\n\nfunction hideLoader() {\n    refs.loader.classList.add('loader-hidden');\n}\n\n\n// --------------- load more btn ---------------\n\nfunction showLoadBtn() {\n    refs.petsLoadMoreBtn.classList.remove('pets-load-more-btn-hidden')\n}\n\nfunction hideLoadBtn() {\n    refs.petsLoadMoreBtn.classList.add('pets-load-more-btn-hidden')\n}\n\nfunction checkLoadMoreBtnStatus() {\n    const totalPages = getTotalPages();\n      if (page >= totalPages) {\n        hideLoadBtn();\n    } else {\n        showLoadBtn();\n    }\n}","// Секція \"Все, що ви хотіли знати\"\nimport Accordion from 'accordion-js';\n\nconst faqAccordion = new Accordion('.accordion-container', {\n  showMultiple: false,\n  collapse: true,\n  duration: 300,\n\n  onOpen(current) {\n    const panel = current.querySelector('.ac-panel');\n    if (!panel) return;\n\n    const rect = panel.getBoundingClientRect();\n    if (rect.bottom > window.innerHeight) {\n      const hiddenHeight = rect.bottom - window.innerHeight + 20;\n      window.scrollBy({ top: hiddenHeight, behavior: 'smooth' });\n    }\n  },\n});\n\nconst faqButtons = document.querySelectorAll('.faq-question-btn');\n\nfaqButtons.forEach(button => {\n  button.addEventListener('click', () => {\n    const expanded = button.getAttribute('aria-expanded') === 'true';\n\n    button.setAttribute(\n      'aria-label',\n      expanded ? 'Закрити відповідь' : 'Відкрити відповідь'\n    );\n  });\n});\n","import Raty from 'raty-js';\nimport 'raty-js/src/raty.css';\n\nexport function renderStories(stories) {\n  const swiperWrapper = document.querySelector('.swiper-wrapper');\n\n  const markup = stories\n    .map(\n      ({ description, rate, author }) =>\n        `\n        <div class=\"swiper-slide\">\n          <div class=\"star-rating\" data-score=\"${rate}\"></div>     \n            <p class=\"storie-text\">${description}</p>\n            <p class=\"storie-names\">${author}</p>  \n        </div>`\n    )\n    .join('');\n\n  swiperWrapper.insertAdjacentHTML('beforeend', markup);\n\n  document.querySelectorAll('.star-rating').forEach(rating => {\n    const raty = new Raty(rating, {\n      starType: 'svg',\n      readOnly: true,\n    });\n    raty.init();\n  });\n}","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport { getStories } from './server-api';\nimport { renderStories } from './success-stories-rndr';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst loader = document.querySelector('.stories-loader');\nconst controls = document.querySelector('.swiper-controls');\n\nexport function showError(error) {\n  iziToast.info({\n    message: error,\n    position: 'topRight',\n    color: '#f2aaaaff',\n    icon: false,\n    progressBar: false,\n    messageColor: 'black',\n  });\n}\n\nfunction hideLoader() {\n  loader.classList.remove('loader');\n}\n\nfunction showLoader() {\n  loader.classList.add('loader');\n}\n\nfunction hideControls() {\n  controls.classList.add('visually-hidden');\n}\n\nfunction showControls() {\n  controls.classList.remove('visually-hidden');\n}\n\nwindow.addEventListener('DOMContentLoaded', async () => {\n  showLoader();\n  try {\n    let storiesList = await getStories();\n\n    if (storiesList === null) {\n      showError('Не вдалося завантажити історії. Спробуйте пізніше');\n      hideLoader();\n      const wrapper = document.querySelector('.swiper-wrapper');\n      if (wrapper) {\n        wrapper.innerHTML =\n          '<p class=\"error-swiper\">Не вдалося завантажити історії</p>';\n      }\n      return;\n    }\n\n    if (storiesList.length === 0) {\n      showError('Нажаль, історії зараз недоступні');\n      hideLoader();\n      const wrapper = document.querySelector('.swiper-wrapper');\n      if (wrapper) {\n        wrapper.innerHTML =\n          '<p class=\"error-swiper\">Нажаль, історії зараз недоступні</p>';\n      }\n      return;\n    }\n\n    renderStories(storiesList);\n\n    const swiper = new Swiper('.swiper', {\n      direction: 'horizontal',\n      loop: false,\n      speed: 400,\n      spaceBetween: 32,\n\n      pagination: {\n        el: '.swiper-pagination',\n        clickable: true,\n        dynamicBullets: false,\n      },\n\n      navigation: {\n        nextEl: '.swiper-button-next',\n        prevEl: '.swiper-button-prev',\n      },\n\n      breakpoints: {\n        768: {\n          slidesPerView: 2,\n        },\n      },\n    });\n\n    showControls();\n    hideLoader();\n  } catch (err) {\n    showError('Cталась помилка. Спробуйте пізніше');\n    const wrapper = document.querySelector('.swiper-wrapper');\n    if (wrapper) {\n      wrapper.innerHTML =\n        '<p class=\"error-swiper\">Нажаль, історії зараз недоступні</p>';\n    }\n    hideLoader();\n  }\n});"],"names":["menuButton","modal","closeButton","nav","takeButton","closeModal","event","isEscape","isModalOpen","refs","storiesParams","BASE_URL","ENDPOINTS","server","axios","getStories","page","validLimit","validPage","saveToLS","key","value","error","loadFromLS","data","limit","getLimitByScreen","totalItems","categoryId","handleContentLoad","handleLoadMoreBtnClick","handleCategoryBtnClick","handlePaginationClick","getTotalPages","showLoader","categories","fetchAllCategories","animals","fetchAllAnimals","renderCategories","renderAnimals","renderPagination","checkLoadMoreBtnStatus","iziToast","hideLoader","categoryName","btn","fetchCategoryById","markup","animalsTemplate","firstCard","cardRect","totalPages","response","id","categoryTemplate","category","categoriesTemplate","animalTemplate","_id","name","image","species","age","gender","description","categoriesMarkup","i","pageButton","pageNumber","showLoadBtn","hideLoadBtn","Accordion","current","panel","rect","hiddenHeight","faqButtons","button","expanded","renderStories","stories","swiperWrapper","rate","author","rating","Raty","loader","controls","showError","showControls","storiesList","wrapper","swiper","Swiper"],"mappings":"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"}